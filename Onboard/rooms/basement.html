<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Basement — GCAb</title>
  <link rel="icon" type="image/png" href="../favicon.png" />
  <link rel="stylesheet" href="../style.css" />
</head>

<body>
  <!-- Ambient layers -->
  <div class="bg-grid"></div>
  <div class="bg-glow"></div>
  <div class="bg-noise"></div>

  <!-- TOPBAR -->
  <header class="topbar">
    <a class="brand" href="../index.html" style="text-decoration:none; color:inherit">
      <div class="sigil">β</div>
      <div class="brand-text">
        <div class="name">Basement</div>
        <div class="tag">SIDEKICKS <span class="muted">· bind the weak</span></div>
      </div>
    </a>

    <div class="top-actions">
      <div class="pill" id="netPill">Network: <span id="netName">—</span></div>
      <div class="pill" id="addrPill">Wallet: <span id="addrShort">—</span></div>
      <button class="btn primary" id="connectBtn">Connect MetaMask</button>
    </div>
  </header>

  <main class="container">

    <!-- ROOM HERO -->
    <section class="hero" style="padding-top:18px">
      <div class="hero-left">
        <h1>
          The Basement.
          <span class="accent">Where Sidekicks appear.</span>
        </h1>

        <p class="lead">
          Scan real holders below your balance. Claim freely — or buy instantly (1%).
          This is the social game entrance.
        </p>

        <div class="status" id="statusLine">
          Status: <span id="statusText">Not connected.</span>
        </div>

        <div class="rooms" style="margin-top:14px">
          <div class="room">
            <div>
              <div style="font-weight:800">Rule: No silent domination.</div>
              <div class="small muted">Upkeep will punish hoarding. Wallet splitting gets expensive.</div>
            </div>
            <div class="badge locked">SOON</div>
          </div>
        </div>
      </div>

      <!-- MINI AURA HUD -->
      <div class="hero-right">
        <div class="card big">
          <div class="card-title">Aura HUD</div>

          <div class="stat-grid">
            <div class="stat">
              <div class="label">GCAb Balance</div>
              <div class="value" id="balText">—</div>
              <div class="hint" id="balHint">Connect to sync your aura.</div>
            </div>

            <div class="stat">
              <div class="label">Rank</div>
              <div class="value glow" id="rankText">—</div>
              <div class="hint" id="rankHint">Rank decides your doors.</div>
            </div>

            <div class="stat">
              <div class="label">Power</div>
              <div class="value" id="powerText">—</div>
              <div class="hint">You radiate it. Not spendable.</div>
            </div>

            <div class="stat">
              <div class="label">Title</div>
              <div class="value" id="titleText">—</div>
              <div class="hint">Lore badge. Drip later.</div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="small muted">Chain</div>
            <div class="small" id="chainText">—</div>
          </div>
          <div class="row">
            <div class="small muted">Address</div>
            <div class="small mono" id="addrFull">—</div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <button class="btn ghost" id="addTokenBtn" disabled style="flex:1">
              Add GCAb to MetaMask
            </button>
            <a class="btn secondary" href="https://app.uniswap.org/#/swap" target="_blank" rel="noreferrer" style="flex:1; text-align:center">
              Buy on Uniswap
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- CORE -->
    <section class="section">
      <div class="section-head">
        <h2>Scan & Bind</h2>
        <p class="muted">
          This room is one job: find candidates and claim them.
          If the backend is offline, the page should still load (Lore Mode).
        </p>
      </div>

      <div class="grid">
        <!-- SCAN -->
        <div class="card">
          <div class="card-title">Potential Sidekicks</div>
          <p class="muted">
            Real holders below your balance. Press scan.
          </p>

          <div class="row">
            <button class="btn primary" id="loadCandidatesBtn" disabled>Scan Candidates</button>
            <div class="pill">Found: <span id="candCount">0</span></div>
          </div>

          <div class="divider"></div>

          <!-- Elevator (IDs exist in your original HTML; keep them so app.js can wire later) -->
          <div class="row" style="gap:8px; flex-wrap:wrap">
            <button class="btn ghost" id="floorAll" data-floor="ALL">ALL</button>
            <button class="btn ghost" id="floorB" data-floor="B">BASEMENT</button>
            <button class="btn ghost" id="floorS" data-floor="S">SIGNAL</button>
            <button class="btn ghost" id="floorM" data-floor="M">MYTH</button>
            <button class="btn ghost" id="floorA" data-floor="A">ALPHA</button>
            <div class="pill">Floor: <span id="floorText">ALL</span></div>
          </div>

          <div class="divider"></div>

          <div id="candidatesList" class="rooms"></div>
        </div>

        <!-- YOUR SIDEKICK (PLACEHOLDER FOR LATER) -->
        <div class="card">
          <div class="card-title">Your Sidekick</div>
          <p class="muted">
            Claiming will bind a sidekick in the ledger. Upkeep arrives next.
          </p>

          <div class="rooms">
            <div class="room">
              <div>
                <div style="font-weight:800">Bound Sidekick</div>
                <div class="small muted">Currently: <span id="sidekickText">—</span></div>
              </div>
              <div class="badge open">LIVE</div>
            </div>

            <div class="room">
              <div>
                <div style="font-weight:800">Release</div>
                <div class="small muted">Let them go (when implemented).</div>
              </div>
              <button class="btn ghost" id="releaseBtn" disabled style="white-space:nowrap">Release</button>
            </div>
          </div>

          <div class="divider"></div>

          <!-- Legacy IDs kept for compatibility -->
          <div class="row">
            <input class="input" id="sidekickInput" placeholder="Legacy (unused) sidekick name" />
            <button class="btn primary" id="claimBtn" disabled>Claim</button>
          </div>

          <div class="divider"></div>

          <div class="fine muted">
            Tip: make each candidate card feel like a “loot drop” — we’ll upgrade visuals once the mechanics are locked.
          </div>
        </div>

        <!-- ACCESS PREVIEW -->
        <div class="card">
          <div class="card-title">Access Preview</div>
          <p class="muted">Auto-rendered by your rank logic.</p>
          <div class="rooms" id="rooms"></div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="fine">GCAb is a meme. Not financial advice. The game is for entertainment.</div>
      <div class="fine muted">© 2025 GigaVerse Labs — still βeta.</div>
    </footer>
  </main>

  <!-- Ethers v6 -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.2/dist/ethers.umd.min.js"></script>
  <script src="../app.js"></script>
</body>
</html>
